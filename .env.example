# ============================================
# GSLTS Trading System - Environment Variables
# ============================================

# --------------------------------------------
# 키움증권 REST API 인증 정보
# --------------------------------------------
# 키움증권 홈페이지에서 발급받은 App Key와 Secret Key를 입력하세요
# 경로: 트레이딩 채널 → 키움 REST API → App Key 관리

KIWOOM_APP_KEY=your_app_key_here
KIWOOM_SECRET_KEY=your_secret_key_here
KIWOOM_IS_MOCK=true  # true: 모의투자, false: 실제투자

# --------------------------------------------
# 데이터베이스 설정 (MariaDB/MySQL)
# --------------------------------------------
# Docker 사용 시: DB_HOST=mariadb
# 로컬 사용 시: DB_HOST=localhost
DB_HOST=localhost
DB_PORT=3306
DB_USER=kium_user
DB_PASSWORD=kium_password
DB_NAME=gslts_trading
DB_ROOT_PASSWORD=root_password  # Docker용

# --------------------------------------------
# Redis 설정 (실시간 캐싱용)
# --------------------------------------------
# Docker 사용 시: REDIS_HOST=redis
# 로컬 사용 시: REDIS_HOST=localhost
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=  # 비밀번호 없으면 비워두기
REDIS_DB=0

# --------------------------------------------
# 서버 설정
# --------------------------------------------
# Sub Server (데이터 수집)
SUB_SERVER_HOST=0.0.0.0
SUB_SERVER_PORT=8001

# Main Server (거래 API)
MAIN_SERVER_HOST=0.0.0.0
MAIN_SERVER_PORT=8000
KIWOOM_API_BASE_URL=https://openapi.koreainvestment.com:9443

# Frontend (React)
FRONTEND_PORT=80

# --------------------------------------------
# Prometheus 설정 (모니터링)
# --------------------------------------------
PROMETHEUS_PORT=9090

# --------------------------------------------
# Grafana 설정 (대시보드)
# --------------------------------------------
GRAFANA_PORT=3000
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin

# --------------------------------------------
# 관리 도구 (선택사항)
# --------------------------------------------
# Redis Commander: Redis 관리 도구
REDIS_COMMANDER_PORT=8081

# phpMyAdmin: MariaDB 관리 도구
PHPMYADMIN_PORT=8080

# --------------------------------------------
# 로깅 설정
# --------------------------------------------
LOG_DIR=logs
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE_ENABLED=true
LOG_MAX_BYTES=10485760  # 10MB (파일 로테이션 크기)
LOG_BACKUP_COUNT=5  # 보관할 로그 파일 개수
LOG_CONSOLE_COLOR=true  # 콘솔 색상 출력

# --------------------------------------------
# 데이터 수집 설정
# --------------------------------------------
# 수집할 종목 수 (거래대금 기준 TOP N)
COLLECT_STOCK_COUNT=50
COLLECT_TOP_N_STOCKS=50

# 버퍼 크기 (DB 일괄 저장 단위)
TICK_BUFFER_SIZE=10000
BUFFER_MAX_SIZE=10000

# 플러시 주기 (초)
FLUSH_INTERVAL=10
COLLECT_INTERVAL=1

# --------------------------------------------
# 모니터링 설정
# --------------------------------------------
MONITORING_ENABLED=true
STATS_INTERVAL=60  # 통계 출력 주기 (초)
